<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <title>Test Widget</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="/theme/ui/melange.css" media="screen">
        <script src="scripts/OpenLayers.js"></script>
        <script src="scripts/OpenStreetMap.js"></script>
        <script type="text/javascript">
        var lat=0;
        var lon=0;
        var zoom=1;
 
        var map;
 
        function init() {
 
            map = new OpenLayers.Map ("map", {
                controls:[
                    new OpenLayers.Control.Navigation()],
                maxExtent: new OpenLayers.Bounds(-20037508.34,-20037508.34,20037508.34,20037508.34),
                maxResolution: 156543.0399,
                numZoomLevels: 19,
                units: 'm',
                projection: new OpenLayers.Projection("EPSG:900913"),
                displayProjection: new OpenLayers.Projection("EPSG:4326")
            } );
 
            layerTilesAtHome = new OpenLayers.Layer.OSM.Mapnik("Mapnik");
            map.addLayer(layerTilesAtHome);
 
            if( ! map.getCenter() ){
                var lonLat = new OpenLayers.LonLat(lon, lat).transform(new OpenLayers.Projection("EPSG:4326"), map.getProjectionObject());
                map.setCenter (lonLat, zoom);
            }
        }
        </script>
    </head>

    <body onload="init()">
        <div class="widget" style="width: 280px;">
            <div class="background">
                <div id="map" style="width: 258px; height: 178px; border: 1px solid #777; background-color: rgba(256, 256, 256, .1);"></div>
            </div>
        </div>
    </body>

</html>
