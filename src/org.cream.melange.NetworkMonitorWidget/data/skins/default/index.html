<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <title>NetworkMonitor Widget</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />

        <script type="text/javascript" src="/common/core/mootools.js"></script>
        <script type="text/javascript" src="/common/core/melange.js"></script>

        <link rel="stylesheet" type="text/css" href="/theme/ui/melange.css" media="screen">

        <style type="text/css">
            #traffic-now {
                text-align: right;
            }
            #download_per_sec {
                font-weight: bold;
                font-size: 1.5em;
            }
            #upload_per_sec {
                font-weight: bold;
                font-size: 1em;
            }
            #download {
                font-size: .8em;
            }
            #upload {
                font-size: .8em;
            }
        </style>

        <script type="text/javascript">
            function main() {
                widget.config.get('interval', function(interval) {
                    setInterval(update, interval * 1000);
                });
            }

            function update() {
                widget.api.get_data(function(data) {
                    $('download_per_sec').set('text', data['download_per_sec']);
                    $('upload_per_sec').set('text', data['upload_per_sec']);
                    //$('download').set('text', data['download'] + ' Mib');
                    //$('upload').set('text', data['upload'] + ' Mib');
                });
            }

        </script>
    </head>

    <body>
        <div class="widget" style="min-width: 160px;">
            <div class="background">
                <div style="float: left;">
                    <img src="network.png" width="40" />
                </div>
                <div style="margin-left: 52px;">
                    <div style="color: #123E10;"><img src="download.png" style="margin-right: 3px;" /><span id="download_per_sec">0</span><span style="font-size: .6em;">kiB/s</span></div>
                    <div style="color: #3E1110;"><img src="upload.png" style="margin-right: 3px;" /><span id="upload_per_sec">0</span><span style="font-size: .6em;">kiB/s</span></div>
                </div>
                <div style="clear: both;" />
            </div>
        </div>
    </body>

</html>
