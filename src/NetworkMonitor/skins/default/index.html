<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 
    <head>
        <title>NetworkMonitor Widget</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    
        <script type="text/javascript" src="/common/core/mootools.js"></script>
        <script type="text/javascript" src="/common/core/cream.js"></script>
        
        <link rel="stylesheet" type="text/css" href="/common/ui/melange.css" media="screen">
        
        <style type="text/css">
            #traffic-now {
                text-align: right;
            }
            #download_per_sec {
                font-weight: bold;
                font-size: 1.5em;
            }
            #upload_per_sec {
                font-weight: bold;
                font-size: 1.5em;
            }
        </style>
        
        <script type="text/javascript">
            function main() {
                setInterval(update, 1000);
            }
            
            function update() {
                widget.api.networkmonitor.get_data(function(data) {
                    $('download_per_sec').set('text', data['download_per_sec']);
                    $('upload_per_sec').set('text', data['upload_per_sec']);
                    $('download').set('text', data['download'] + ' Mib');
                    $('upload').set('text', data['upload'] + ' Mib');
                });
            }
            
        </script>
    </head>
 
    <body>
        <div class="widget" style="min-width: 120px;">
            <div class="background">
                <div id="traffic-now">
                    <div><span id="download_per_sec">0</span></div>
                    <div><span id="upload_per_sec">0</span></div>
                </div>
                <div style="clear: both;" />
                
                <div id="download">NaN</div>
                <div id="upload">NaN</div>
            </div>
        </div>
    </body>
 
</html>
